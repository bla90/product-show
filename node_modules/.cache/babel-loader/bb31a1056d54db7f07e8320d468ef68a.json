{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\neevs\\\\OneDrive\\\\Desktop\\\\product-show\\\\src\\\\components\\\\UserProfile.jsx\";\nimport React, { Component } from 'react';\nimport { auth } from '../firebase';\nimport { firestore, storage } from '../firebase';\nimport './css/style.css';\n\nclass UserProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      displayName: ''\n    };\n    this.imageInput = null;\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        displayName\n      } = this.state;\n\n      if (displayName) {\n        this.userRef.update({\n          displayName\n        });\n      }\n\n      if (this.file) {\n        storage.ref().child('user-profiles').child(this.uid).child(this.file.name).put(this.file).then(response => response.ref.getDownloadURL()).then(photoURL => this.userRef.update({\n          photoURL\n        }));\n      }\n    };\n  }\n\n  get uid() {\n    return auth.currentUser.uid;\n  }\n\n  get userRef() {\n    return firestore.doc(`users/${this.uid}`);\n  }\n\n  get file() {\n    return this.imageInput && this.imageInput.files[0];\n  }\n\n  render() {\n    const {\n      displayName\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"UserProfile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: displayName,\n      name: \"displayName\",\n      onChange: this.handleChange,\n      placeholder: \"Display Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      ref: ref => this.imageInput = ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"update\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default UserProfile;","map":{"version":3,"sources":["C:/Users/neevs/OneDrive/Desktop/product-show/src/components/UserProfile.jsx"],"names":["React","Component","auth","firestore","storage","UserProfile","state","displayName","imageInput","handleChange","event","name","value","target","setState","handleSubmit","preventDefault","userRef","update","file","ref","child","uid","put","then","response","getDownloadURL","photoURL","currentUser","doc","files","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,aAAnC;AACA,OAAO,iBAAP;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCK,KADkC,GAC1B;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAD0B;AAAA,SAElCC,UAFkC,GAErB,IAFqB;;AAAA,SAgBlCC,YAhBkC,GAgBnBC,KAAK,IAAI;AACtB,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAkBF,KAAK,CAACG,MAA9B;AACA,WAAKC,QAAL,CAAc;AAAE,SAACH,IAAD,GAAQC;AAAV,OAAd;AACD,KAnBiC;;AAAA,SAqBlCG,YArBkC,GAqBnBL,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACA,YAAM;AAAET,QAAAA;AAAF,UAAkB,KAAKD,KAA7B;;AAEA,UAAIC,WAAJ,EAAiB;AACf,aAAKU,OAAL,CAAaC,MAAb,CAAoB;AAAEX,UAAAA;AAAF,SAApB;AACD;;AAED,UAAI,KAAKY,IAAT,EAAe;AACbf,QAAAA,OAAO,CACJgB,GADH,GAEGC,KAFH,CAES,eAFT,EAGGA,KAHH,CAGS,KAAKC,GAHd,EAIGD,KAJH,CAIS,KAAKF,IAAL,CAAUR,IAJnB,EAKGY,GALH,CAKO,KAAKJ,IALZ,EAMGK,IANH,CAMQC,QAAQ,IAAIA,QAAQ,CAACL,GAAT,CAAaM,cAAb,EANpB,EAOGF,IAPH,CAOQG,QAAQ,IAAI,KAAKV,OAAL,CAAaC,MAAb,CAAoB;AAAES,UAAAA;AAAF,SAApB,CAPpB;AAQD;AACF,KAvCiC;AAAA;;AAIlC,MAAIL,GAAJ,GAAU;AACR,WAAOpB,IAAI,CAAC0B,WAAL,CAAiBN,GAAxB;AACD;;AAED,MAAIL,OAAJ,GAAc;AACZ,WAAOd,SAAS,CAAC0B,GAAV,CAAe,SAAQ,KAAKP,GAAI,EAAhC,CAAP;AACD;;AAED,MAAIH,IAAJ,GAAW;AACT,WAAO,KAAKX,UAAL,IAAmB,KAAKA,UAAL,CAAgBsB,KAAhB,CAAsB,CAAtB,CAA1B;AACD;;AA2BDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAExB,MAAAA;AAAF,QAAkB,KAAKD,KAA7B;AAEA,wBACE;AAAS,MAAA,SAAS,EAAC,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,QAAQ,EAAE,KAAKS,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAER,WAFT;AAGE,MAAA,IAAI,EAAC,aAHP;AAIE,MAAA,QAAQ,EAAE,KAAKE,YAJjB;AAKE,MAAA,WAAW,EAAC,cALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAQE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,GAAG,EAAEW,GAAG,IAAK,KAAKZ,UAAL,GAAkBY,GAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,eASE;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CADF,CADF;AAeD;;AA3DiC;;AA8DpC,eAAef,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { auth } from '../firebase';\r\nimport { firestore, storage } from '../firebase';\r\nimport './css/style.css';\r\n\r\nclass UserProfile extends Component {\r\n  state = { displayName: '' };\r\n  imageInput = null;\r\n\r\n  get uid() {\r\n    return auth.currentUser.uid;\r\n  }\r\n\r\n  get userRef() {\r\n    return firestore.doc(`users/${this.uid}`);\r\n  }\r\n\r\n  get file() {\r\n    return this.imageInput && this.imageInput.files[0];\r\n  }\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { displayName } = this.state;\r\n\r\n    if (displayName) {\r\n      this.userRef.update({ displayName });\r\n    }\r\n\r\n    if (this.file) {\r\n      storage\r\n        .ref()\r\n        .child('user-profiles')\r\n        .child(this.uid)\r\n        .child(this.file.name)\r\n        .put(this.file)\r\n        .then(response => response.ref.getDownloadURL())\r\n        .then(photoURL => this.userRef.update({ photoURL }));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { displayName } = this.state;\r\n\r\n    return (\r\n      <section className=\"UserProfile\">\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            value={displayName}\r\n            name=\"displayName\"\r\n            onChange={this.handleChange}\r\n            placeholder=\"Display Name\"\r\n          />\r\n          <input type=\"file\" ref={ref => (this.imageInput = ref)} />\r\n          <input className=\"update\" type=\"submit\" />\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProfile;\r\n"]},"metadata":{},"sourceType":"module"}